{% schema %}
{
  "name": "SNS - Hero Splash",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Comic Burst Settings"
    },
    {
      "type": "color",
      "id": "burst_color_left",
      "label": "Left Burst Color",
      "default": "#E63E6D"
    },
    {
      "type": "color",
      "id": "burst_color_right",
      "label": "Right Burst Color",
      "default": "#FFC72C"
    },
    {
      "type": "checkbox",
      "id": "scatter_icons",
      "label": "Show Floating Decor (Stars/Bolts)",
      "default": true
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading_left",
      "label": "Left Text (Sugar)",
      "default": "SUGAR"
    },
    {
      "type": "text",
      "id": "heading_right",
      "label": "Right Text (Spice)",
      "default": "SPICE"
    },
    {
      "type": "text",
      "id": "tagline",
      "label": "Tagline",
      "default": "AND ALL THINGS NICE"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Center Image (Transparent PNG)"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "ORDER NOW"
    },
    {
      "type": "range",
      "id": "image_size",
      "min": 20,
      "max": 120,
      "step": 5,
      "unit": "%",
      "label": "Center Image Size",
      "default": 100
    },
    {
      "type": "header",
      "content": "Desktop Layout"
    },
    {
      "type": "select",
      "id": "desktop_height",
      "label": "Desktop Height",
      "options": [
        { "value": "500px", "label": "Small" },
        { "value": "650px", "label": "Medium" },
        { "value": "800px", "label": "Large" },
        { "value": "100vh", "label": "Full Screen" }
      ],
      "default": "100vh"
    },
    {
      "type": "range",
      "id": "title_size_desktop",
      "min": 5,
      "max": 30,
      "step": 1,
      "unit": "vw",
      "label": "Title Size",
      "default": 22
    },
    {
      "type": "header",
      "content": "Mobile Layout"
    },
    {
      "type": "select",
      "id": "mobile_height",
      "label": "Mobile Height",
      "options": [
        { "value": "400px", "label": "Small" },
        { "value": "550px", "label": "Medium" },
        { "value": "700px", "label": "Large" },
        { "value": "90vh", "label": "Full Screen" }
      ],
      "default": "90vh"
    },
    {
      "type": "range",
      "id": "title_size_mobile",
      "min": 10,
      "max": 50,
      "step": 1,
      "unit": "vw",
      "label": "Mobile Title Size",
      "default": 32
    }
  ],
  "presets": [
    {
      "name": "SNS - Hero Splash"
    }
  ]
}
{% endschema %}

<div class="hero-comic-burst" style="--burst-left: {{ section.settings.burst_color_left }}; --burst-right: {{ section.settings.burst_color_right }}; height: {{ section.settings.desktop_height }};">
  
  <!-- Halftone Pattern Overlay -->
  <div class="hero-comic__pattern"></div>

  <!-- Background Split (Jagged Clip Path) -->
  <div class="hero-comic__bg-left"></div>
  <div class="hero-comic__bg-right"></div>

  <!-- Content Container -->
  <div class="hero-comic__content">
    
    <!-- Left Text Group -->
    <div class="hero-comic__text-group hero-comic__text-group--left">
      <h2 class="hero-comic__title comic-3d-text" style="--text-color: #FFF; font-size: {{ section.settings.title_size_desktop }}vw;">
        {{ section.settings.heading_left }}
      </h2>
    </div>

    <!-- Right Text Group -->
    <div class="hero-comic__text-group hero-comic__text-group--right">
      <h2 class="hero-comic__title comic-3d-text" style="--text-color: var(--color-brand-yellow); font-size: {{ section.settings.title_size_desktop }}vw;">
        {{ section.settings.heading_right }}
      </h2>
    </div>

    <!-- Center Element (Image + Tagline + Button) -->
    <div class="hero-comic__center">
      <div class="hero-comic__tagline-wrapper">
        <p class="hero-comic__tagline comic-stroke-text">{{ section.settings.tagline }}</p>
      </div>

      {% if section.settings.image %}
        <div class="hero-comic__image-container" style="width: {{ section.settings.image_size }}%;">
          <img
            src="{{ section.settings.image | image_url: width: 1200 }}"
            alt="{{ section.settings.heading_left }} {{ section.settings.heading_right }}"
            class="hero-comic__image box-pop"
            width="1000"
            height="1000"
            loading="eager"
          >
        </div>
      {% endif %}

      {% if section.settings.button_link %}
        <a href="{{ section.settings.button_link }}" class="hero-comic__button box-pop box-pop--pink">
          {{ section.settings.button_label }}
        </a>
      {% endif %}
    </div>

  </div>

  <!-- Floating Decor (Pure CSS/SVG Shapes) -->
  {% if section.settings.scatter_icons %}
    <div class="hero-comic__decor">
      <div class="decor-star" style="top: 10%; left: 10%;">★</div>
      <div class="decor-star" style="top: 20%; right: 15%; font-size: 3rem; transform: rotate(15deg);">★</div>
      <div class="decor-bolt" style="bottom: 15%; left: 5%;">⚡</div>
      <div class="decor-bolt" style="top: 15%; right: 5%; color: #fff;">⚡</div>
      <div class="decor-circle" style="top: 50%; left: 2%; background: #fff;"></div>
      <div class="decor-circle" style="bottom: 10%; right: 25%; background: var(--color-brand-pink);"></div>
    </div>
  {% endif %}

</div>

<style>
  .hero-comic-burst {
    position: relative;
    width: 100vw;
    margin-left: calc(50% - 50vw);
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-brand-black); /* Fallback */
  }

  /* --- Backgrounds --- */
  .hero-comic__bg-left,
  .hero-comic__bg-right {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 100%;
    z-index: 0;
  }

  .hero-comic__bg-left {
    left: 0;
    background-color: var(--burst-left);
    /* Jagged Lighting Bolt Split */
    clip-path: polygon(0 0, 60% 0, 45% 40%, 55% 100%, 0 100%);
  }

  .hero-comic__bg-right {
    right: 0;
    background-color: var(--burst-right);
    /* Inverse Split (Background allows for easy layering, but we can just fill the back 
       and let left sit on top. But for dual gradients, let's just fill right fully behind) */
    background: var(--burst-right);
    z-index: -1;
  }

  .hero-comic__pattern {
    position: absolute;
    inset: 0;
    z-index: 1;
    background-image: radial-gradient(var(--color-brand-black) 20%, transparent 20%),
                      radial-gradient(var(--color-brand-black) 20%, transparent 20%);
    background-color: transparent;
    background-position: 0 0, 10px 10px;
    background-size: 20px 20px;
    opacity: 0.1;
    pointer-events: none;
  }

  /* --- Content Layout --- */
  .hero-comic__content {
    position: relative;
    z-index: 5;
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    align-items: center;
  }

  .hero-comic__text-group {
    padding: 2rem;
    display: flex;
    justify-content: center;
  }
  
  .hero-comic__text-group--left { padding-left: 5vw; justify-content: flex-end; }
  .hero-comic__text-group--right { padding-right: 5vw; justify-content: flex-start; }

  /* --- 3D Comic Typography --- */
  .comic-3d-text {
    font-family: var(--font-heading-family);
    margin: 0;
    line-height: 0.8;
    transform: rotate(-5deg);
    color: var(--text-color);
    /* Layered 3D Effect */
    -webkit-text-stroke: 4px var(--color-brand-black);
    text-shadow: 
      4px 4px 0 var(--color-brand-black),
      8px 8px 0 rgba(0,0,0,0.2);
    /* Filter for that extra punch */
    filter: drop-shadow(5px 5px 0px rgba(0,0,0,1));
  }

  .hero-comic__tagline-wrapper {
    position: absolute;
    top: 45%; 
    left: 50%;
    transform: translate(-50%, -50%) rotate(0deg);
    width: 100%;
    text-align: center;
    z-index: 12;
    pointer-events: none;
  }

  .comic-stroke-text {
    font-family: var(--font-heading-family);
    font-size: 2.5rem;
    color: white;
    text-transform: uppercase;
    letter-spacing: 2px;
    -webkit-text-stroke: 2px var(--color-brand-black);
    text-shadow: 4px 4px 0 var(--color-brand-black);
    font-weight: 900;
  }

  /* --- Center Elements --- */
  .hero-comic__center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60%; 
    max-width: 800px;
    display: flex;
    flex-direction: column;
    align-items: center;
    z-index: 10;
    pointer-events: none; /* Let clicks pass through to potential links, button overrides this */
  }

  .hero-comic__image-container {
    position: relative;
    transition: transform 0.3s ease;
  }

  .hero-comic__image {
    width: 100%;
    height: auto;
    transform: rotate(5deg);
    border: 4px solid var(--color-brand-black);
    border-radius: 50%;
    background: #fff; /* Ensure transparent PNGs pop */
    box-shadow: 10px 10px 0 var(--color-brand-black);
  }

  .hero-comic__button {
    pointer-events: auto;
    margin-top: -20px;
    z-index: 20;
    font-size: 2rem;
    padding: 1rem 3rem;
    text-decoration: none;
    text-transform: uppercase;
    font-family: var(--font-heading-family);
    display: inline-block;
    background: #fff;
    color: var(--color-brand-black);
    border: 3px solid var(--color-brand-black);
    box-shadow: 6px 6px 0 var(--color-brand-black);
    transition: transform 0.2s;
  }

  .hero-comic__button:hover {
    transform: translate(-2px, -2px);
    box-shadow: 8px 8px 0 var(--color-brand-black);
  }

  /* --- Decor --- */
  .hero-comic__decor {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
  }

  .decor-star {
    position: absolute;
    color: var(--color-brand-yellow);
    font-size: 4rem;
    -webkit-text-stroke: 2px black;
    font-weight: bold;
    animation: pulse 3s infinite ease-in-out;
    text-shadow: 3px 3px 0 black;
  }

  .decor-bolt {
    position: absolute;
    font-size: 6rem;
    color: var(--color-brand-black);
    transform: rotate(20deg);
    font-weight: 900;
    text-shadow: 3px 3px 0 rgba(255,255,255,0.5);
  }

  .decor-circle {
    position: absolute;
    width: 20px; 
    height: 20px;
    border: 2px solid black;
    border-radius: 50%;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.2) rotate(10deg); }
  }

  /* --- Mobile --- */
  @media (max-width: 768px) {
    .hero-comic-burst {
      height: {{ section.settings.mobile_height }} !important;
      flex-direction: column;
    }

    .hero-comic__background-left {
      /* Adjust clip path for vertical split if desired, or keep jagged diagonal */
      clip-path: polygon(0 0, 100% 0, 100% 45%, 0 55%);
    }

    .hero-comic__content {
      grid-template-columns: 1fr;
      grid-template-rows: 1fr auto 1fr;
    }

    .hero-comic__text-group {
      justify-content: center;
      padding: 0;
    }

    /* Stack the text vertically */
    .hero-comic__text-group--left { align-items: flex-end; padding-bottom: 2rem; }
    .hero-comic__text-group--right { align-items: flex-start; padding-top: 2rem; }

    .comic-3d-text {
      font-size: {{ section.settings.title_size_mobile }}vw !important;
      line-height: 1;
    }

    .hero-comic__center {
      position: absolute;
      width: 100%;
      top: 50%;
    }

    .hero-comic__image-container {
      width: 60% !important; 
    }
  }
</style>
